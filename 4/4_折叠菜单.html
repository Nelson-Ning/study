<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>我的折叠菜单</title>
    <link rel="stylesheet" href="4_css.css">
</head>
<body>
<ul id="menu">
    <li class="main_menu">
        <h3 onselectstart="return false">Llink1</h3>
        <ul class="sub_menu">
            <li><a href="#">link one</a></li>
            <li><a href="#">link two</a></li>
            <li><a href="#">link three</a></li>
           </ul>
    </li>
    <li class="main_menu">
        <h3 onselectstart="return false">Llink2</h3>
        <ul class="sub_menu">
            <li><a href="#">link one</a></li>
            <li><a href="#">link two</a></li>
            <li><a href="#">link three</a></li>
        </ul>
    </li>

</ul>

<script>

        var oUl=document.getElementById('menu');
        var aH3=oUl.getElementsByTagName('h3');
         /**
         * 2016年10月23日14:01:03
         * 通过父节点寻找孙子节点
         * **/

/*        for(var i=0;i<aH3.length;i++){
            aH3[i].onclick=function(){
                if( this.parentNode.children[1].style.display=='block')
                    this.parentNode.children[1].style.display='none';
                else
                    this.parentNode.children[1].style.display='block'
            }
        }*/

        /*
         * 2016年10月23日 14:37:17
         * 通过next函数
         * */
        for(var i=0;i<aH3.length;i++){
            aH3[i].onclick=function(){
                if(next(this).style.display=='block')
                    next(this).style.display='none';
                else
                    next(this).style.display='block';

            }

        }
        function next(elem){
               do{
                elem=elem.nextSibling;
               }while(elem && elem.nodeType!=1);
                return elem;
        }



</script>
</body>
</html>